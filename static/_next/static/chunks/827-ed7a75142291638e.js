"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[827],{9452:function(n,t,e){var r=e(5893),o=e(2962),c=e(9008),a=e(1163),u=e(5125);t.Z=function(n){var t=(0,a.useRouter)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.default,{children:[(0,r.jsx)("meta",{charSet:"UTF-8"},"charset"),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"},"viewport"),(0,r.jsx)("link",{rel:"apple-touch-icon",href:"".concat(t.basePath,"/apple-touch-icon.png")},"apple"),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"".concat(t.basePath,"/favicon-32x32.png")},"icon32"),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"".concat(t.basePath,"/favicon-16x16.png")},"icon16"),(0,r.jsx)("link",{rel:"icon",href:"".concat(t.basePath,"/favicon.ico")},"favicon")]}),(0,r.jsx)(o.PB,{title:n.title,description:n.description,canonical:n.canonical,openGraph:{title:n.title,description:n.description,url:n.canonical,locale:u.Z.locale,site_name:u.Z.site_name}})]})}},3292:function(n,t,e){var r=e(5893);t.Z=function(n){return(0,r.jsxs)("div",{className:"h-[320px] w-[480px] border-solid border-2 border-black p-2",children:[n.meta,(0,r.jsx)("div",{className:"h-full w-full relative",children:n.children})]})}},1303:function(n,t,e){e.d(t,{uT:function(){return b},Od:function(){return x},I_:function(){return k},GI:function(){return g},M7:function(){return E},sc:function(){return P},wl:function(){return S},Sj:function(){return O},b:function(){return T},Hu:function(){return j},Cz:function(){return I}});var r=e(4051),o=e.n(r),c=e(8100),a=e(5125),u=e(5208),i=e(2435);function s(n,t,e,r,o,c,a){try{var u=n[c](a),i=u.value}catch(s){return void e(s)}u.done?t(i):Promise.resolve(i).then(r,o)}function f(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var c=n.apply(t,e);function a(n){s(c,r,o,a,u,"next",n)}function u(n){s(c,r,o,a,u,"throw",n)}a(void 0)}))}}function l(n,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](n):n instanceof t}var p=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.H_)(f(o().mark((function e(){var r,c,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.next=4;break;case 4:if(null===(r=window.pywebview)||void 0===r||null===(c=r.api)||void 0===c?void 0:c[n]){e.next=6;break}throw new Error("API endpoint not found");case 6:return e.next=8,(0,i.Z)("PyCall ".concat(n),t);case 8:return e.next=10,window.pywebview.api[n](t).then((function(n){return JSON.parse(n)})).then(function(){var t=f(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e?void 0:e.error)){t.next=2;break}throw e.error;case 2:if(void 0!==e.message){t.next=4;break}throw new Error("Response message was empty ".concat(e));case 4:return t.next=6,(0,i.Z)("Pycall ".concat(n," returned: ").concat(e.message),e);case 6:return t.abrupt("return",e.message);case 7:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}());case 10:return a=e.sent,e.abrupt("return",a);case 14:return e.prev=14,e.t0=e.catch(0),u="".concat(e.t0),l(e.t0,Error)&&(u=e.t0.message),e.next=20,(0,i.Z)("Pycall ".concat(n," (retrying): ").concat(u));case 20:throw new Error(u);case 21:case"end":return e.stop()}}),e,null,[[0,14]])}))),a.Z.RETRY_DELAY,a.Z.MAX_RETRIES).catch(function(){var t=f(o().mark((function t(e){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(n," - ").concat(e),l(e,Error)&&(r=e.message),t.next=4,(0,i.Z)("Pycall ".concat(n," - FATAL ERROR: ").concat(r));case 4:throw new Error(r);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())};function h(n,t,e,r,o,c,a){try{var u=n[c](a),i=u.value}catch(s){return void e(s)}u.done?t(i):Promise.resolve(i).then(r,o)}function v(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var c=n.apply(t,e);function a(n){h(c,r,o,a,u,"next",n)}function u(n){h(c,r,o,a,u,"throw",n)}a(void 0)}))}}function d(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function w(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){d(n,t,e[t])}))}return n}var m=function(n){return p("get",{key:n}).then((function(n){console.log("Got: ",n);try{return JSON.parse(n)}catch(t){return n}})).catch((function(n){return console.log("pyget error: ".concat(n)),""}))},y=function(n,t){return console.log("Setting: ".concat(n,", ").concat(t)),p("set",{key:n,data:t}).catch((function(n){return console.log("Pyset error: ",n),""}))},b=function(){return p("getDeviceStatus").catch((function(){return"error"}))},x=function(){return p("getHardwareId").catch((function(){return""}))},g=function(){var n=v(o().mark((function n(){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.Vs)(p("checkWifiConnection").catch((function(){return!1})),a.Z.NETWORK_TIMEOUT);case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),k=function(){return p("getIpAddress").catch((function(){return""}))},E=function(){return m("network_list")},P=function(){var n=v(o().mark((function n(){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p("getTemperatureHumidity").catch((function(){return{temperature:"",humidity:""}}));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),S=function(){var n=v(o().mark((function n(){var t,e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p("getWifiInfo").catch((function(){return{ssid:"error",quality:0}}));case 2:return t=n.sent,e=Math.round(Number.parseInt(t.quality,10)/70*100),n.abrupt("return",{ssid:t.ssid,quality:e});case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),O=function(){var n=v(o().mark((function n(){var t,e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p("getWifiNetworks").catch((function(){return""}));case 2:return t=n.sent,e=t.split("ESSID:").map((function(n){return n.trim().replace(/^"|"$/g,"")})).filter((function(n,t,e){return e.indexOf(n)===t})).filter((function(n){return n})),n.abrupt("return",e);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),T=function(){var n=v(o().mark((function n(t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("Setting device power to ".concat(t)),!t){n.next=9;break}return n.t0=console,n.next=5,p("deviceOn").catch((function(){return"error"}));case 5:n.t1=n.sent,n.t0.log.call(n.t0,n.t1),n.next=14;break;case 9:return n.t2=console,n.next=12,p("deviceOff").catch((function(){return"error"}));case 12:n.t3=n.sent,n.t2.log.call(n.t2,n.t3);case 14:return console.log("setDevicePower> Mutating deviceStatus"),n.next=17,(0,c.JG)("/device-power",t);case 17:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),I=function(){var n=v(o().mark((function n(t,e){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p("setWifiNetwork",{ssid:t,password:e});case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),j=function(){var n=v(o().mark((function n(t,e){var r,c;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m("network_list");case 2:if("object"!==typeof(r=n.sent)){n.next=9;break}return n.next=6,y("network_list",w({},r,d({},t,e)));case 6:n.t0=n.sent,n.next=12;break;case 9:return n.next=11,y("network_list",d({},t,e));case 11:n.t0=n.sent;case 12:return c=n.t0,n.abrupt("return",c);case 14:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()},2435:function(n,t,e){var r=e(4051),o=e.n(r),c=e(5125),a=e(5208);function u(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function i(n,t,e,r,o,c,a){try{var u=n[c](a),i=u.value}catch(s){return void e(s)}u.done?t(i):Promise.resolve(i).then(r,o)}function s(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var c=n.apply(t,e);function a(n){i(c,r,o,a,u,"next",n)}function u(n){i(c,r,o,a,u,"throw",n)}a(void 0)}))}}function f(n){return function(n){if(Array.isArray(n))return u(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,t){if(!n)return;if("string"===typeof n)return u(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return u(n,t)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=function(){var n=s(o().mark((function n(t){var e,r,u,i,l,p,h,v=arguments;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(e=v.length,r=new Array(e>1?e-1:0),u=1;u<e;u++)r[u-1]=v[u];if(!(null===(i=window.pywebview)||void 0===i||null===(l=i.api)||void 0===l?void 0:l.log)){n.next=9;break}return(p=console).log.apply(p,["[Pylog] ".concat(t)].concat(f(r))),n.next=7,(0,a.Vs)(s(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.pywebview.api.log(t);case 2:return n.abrupt("return",!0);case 3:case"end":return n.stop()}}),n)})))(),c.Z.TIMEOUT).catch((function(n){return console.log("[Pylog] ".concat(t," error: ").concat(n))}));case 7:n.next=10;break;case 9:(h=console).log.apply(h,["[Pylog Error] ".concat(t)].concat(f(r)));case 10:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();t.Z=l},5125:function(n,t){var e={totalImages:5,site_name:"iot-cloud",email:"me@lacymorrow.com",title:"Smartcloud",tagline:"Firmware for iot scheduler",description:"Firmware for iot scheduler",locale:"en",errorMessage:"",MAX_RETRIES:3,RETRY_DELAY:1e3,TIMEOUT:3e3,BACKOFF_DELAY:4e3,NETWORK_TIMEOUT:1e4};e.errorMessage='There was an error, please email <a href="mailto:'.concat(e.email,'">').concat(e.email,"</a>"),t.Z=e},5208:function(n,t,e){e.d(t,{Vs:function(){return r},H_:function(){return o}});var r=function(n,t){var e;return Promise.race([n,new Promise((function(n,r){return e=setTimeout((function(){return r(new Error("timeout"))}),t)}))]).finally((function(){return clearTimeout(e)}))},o=function(n,t,e){return new Promise((function(r,c){return n().then(r).catch((function(a){return e>0?(u=t,new Promise((function(n){return setTimeout(n,u)}))).then(o.bind(null,n,t,e-1)).then(r).catch((function(n){var t,e,r="Operation failed";t=n,(null!=(e=Error)&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e)&&(r=n.message),c(r)})):c(a);var u}))}))}}}]);