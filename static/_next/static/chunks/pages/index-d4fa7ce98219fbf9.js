(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(7618)}])},9452:function(n,e,t){"use strict";var r=t(5893),c=t(2962),i=t(9008),a=t(1163),o=t(5125);e.Z=function(n){var e=(0,a.useRouter)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.default,{children:[(0,r.jsx)("meta",{charSet:"UTF-8"},"charset"),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"},"viewport"),(0,r.jsx)("link",{rel:"apple-touch-icon",href:"".concat(e.basePath,"/apple-touch-icon.png")},"apple"),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"".concat(e.basePath,"/favicon-32x32.png")},"icon32"),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"".concat(e.basePath,"/favicon-16x16.png")},"icon16"),(0,r.jsx)("link",{rel:"icon",href:"".concat(e.basePath,"/favicon.ico")},"favicon")]}),(0,r.jsx)(c.PB,{title:n.title,description:n.description,canonical:n.canonical,openGraph:{title:n.title,description:n.description,url:n.canonical,locale:o.Z.locale,site_name:o.Z.site_name}})]})}},5542:function(n,e,t){"use strict";t.d(e,{Z:function(){return f}});var r=t(5893),c=t(386);function i(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function a(){var n=i([""]);return a=function(){return n},n}function o(){var n=i([""]);return o=function(){return n},n}var u=c.Z.div(a()),s=c.Z.div(o()),f=function(n){return(0,r.jsxs)(u,{className:"h-[320px] w-[480px] border-solid border-2 border-black p-2",children:[n.meta,(0,r.jsx)("div",{className:"w-full relative",children:(0,r.jsx)(s,{children:n.children})})]})}},8851:function(n,e,t){"use strict";t.d(e,{Od:function(){return d},I_:function(){return h},wl:function(){return w},Sj:function(){return m},Cz:function(){return x}});var r=t(4051),c=t.n(r),i=t(5125);var a=function(n,e,t){return new Promise((function(r,c){return n().then(r).catch((function(i){return t>0?(o=e,new Promise((function(n){return setTimeout(n,o)}))).then(a.bind(null,n,e,t-1)).then(r).catch((function(n){var e,t,r="Operation failed";e=n,(null!=(t=Error)&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t)&&(r=n.message),c(r)})):c(i);var o}))}))},o=t(2435);function u(n,e,t,r,c,i,a){try{var o=n[i](a),u=o.value}catch(s){return void t(s)}o.done?e(u):Promise.resolve(u).then(r,c)}function s(n){return function(){var e=this,t=arguments;return new Promise((function(r,c){var i=n.apply(e,t);function a(n){u(i,r,c,a,o,"next",n)}function o(n){u(i,r,c,a,o,"throw",n)}a(void 0)}))}}function f(n,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](n):n instanceof e}var l=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(s(c().mark((function t(){var r,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,o.Z)("PyCall ".concat(n));case 3:return t.next=5,window.pywebview.api[n](e);case 5:return r=t.sent,t.abrupt("return",r);case 9:throw t.prev=9,t.t0=t.catch(0),i="PyCall ".concat(n," failed: ").concat(t.t0),f(t.t0,Error)&&(i=t.t0.message),new Error(i);case 14:case"end":return t.stop()}}),t,null,[[0,9]])}))),!1===(null===e||void 0===e?void 0:e.retry)?1:i.Z.RETRY_DELAY,i.Z.MAX_RETRIES).then(function(){var n=s(c().mark((function n(e){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=JSON.parse(e),n.next=4,(0,o.Z)("PyCall returned object ".concat(t.message));case 4:return n.abrupt("return",t.message);case 7:return n.prev=7,n.t0=n.catch(0),n.next=11,(0,o.Z)("PyCall returned ".concat(e));case 11:return n.abrupt("return",e);case 12:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()).catch(function(){var e=s(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw r="PyCall ".concat(n," failed: ").concat(t),f(t,Error)&&(r=t.message),new Error(r);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())};function p(n,e,t,r,c,i,a){try{var o=n[i](a),u=o.value}catch(s){return void t(s)}o.done?e(u):Promise.resolve(u).then(r,c)}function v(n){return function(){var e=this,t=arguments;return new Promise((function(r,c){var i=n.apply(e,t);function a(n){p(i,r,c,a,o,"next",n)}function o(n){p(i,r,c,a,o,"throw",n)}a(void 0)}))}}var d=function(){return l("getHardwareId").catch((function(){return"XXXX"}))},h=function(){return l("getIpAddress").catch((function(){return"XXXX"}))},w=function(){var n=v(c().mark((function n(){var e,t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l("getWifiInfo").catch((function(){return{ssid:"",quality:0}}));case 2:return e=n.sent,t=Math.round(Number.parseInt(e.quality,10)/70*100),n.abrupt("return",{ssid:e.ssid,quality:t});case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),m=function(){var n=v(c().mark((function n(){var e,t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l("getWifiNetworks").catch((function(){return"ESSID: Castle \n ESSID: io \n"}));case 2:return e=n.sent,t=e.split("ESSID:").map((function(n){return n.trim().replace(/^"|"$/g,"")})).filter((function(n,e,t){return t.indexOf(n)===e})).filter((function(n){return n})),n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),x=function(){var n=v(c().mark((function n(e,t){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l("setWifiNetwork",{ssid:e,password:t}).catch((function(){return[]}));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},2435:function(n,e,t){"use strict";var r=t(4051),c=t.n(r);function i(n,e,t,r,c,i,a){try{var o=n[i](a),u=o.value}catch(s){return void t(s)}o.done?e(u):Promise.resolve(u).then(r,c)}var a=function(){var n,e=(n=c().mark((function n(e){var t,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),n.prev=1,n.next=5,null===(t=window.pywebview)||void 0===t||null===(r=t.api)||void 0===r?void 0:r.log(e);case 5:return n.abrupt("return",!0);case 8:return n.prev=8,n.t0=n.catch(1),console.error("Logging error ".concat(n.t0)),n.abrupt("return",!1);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})),function(){var e=this,t=arguments;return new Promise((function(r,c){var a=n.apply(e,t);function o(n){i(a,r,c,o,u,"next",n)}function u(n){i(a,r,c,o,u,"throw",n)}o(void 0)}))});return function(n){return e.apply(this,arguments)}}();e.Z=a},7618:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return y}});var r=t(4051),c=t.n(r),i=t(5893),a=t(7294),o=t(452),u=t(6319),s=t(1664),f=t(9452),l=t(2592),p=t(2435);function v(n,e,t,r,c,i,a){try{var o=n[i](a),u=o.value}catch(s){return void t(s)}o.done?e(u):Promise.resolve(u).then(r,c)}var d=function(n){var e=n.data,t=(0,a.useRef)(null);return(0,a.useEffect)((function(){l.toCanvas(t.current,e,function(){var n,t=(n=c().mark((function n(t){var r,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=4;break}return n.next=4,null===(r=window.pywebview)||void 0===r||null===(i=r.api)||void 0===i?void 0:i.log(t);case 4:return n.next=6,(0,p.Z)("Created QR: ".concat(e));case 6:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,c){var i=n.apply(e,t);function a(n){v(i,r,c,a,o,"next",n)}function o(n){v(i,r,c,a,o,"throw",n)}a(void 0)}))});return function(n){return t.apply(this,arguments)}}())}),[e]),(0,i.jsx)("canvas",{ref:t})},h=t(5542),w=t(8851),m=t(5125);function x(n,e,t,r,c,i,a){try{var o=n[i](a),u=o.value}catch(s){return void t(s)}o.done?e(u):Promise.resolve(u).then(r,c)}var y=function(){var n=(0,a.useState)(""),e=n[0],t=n[1],r=(0,a.useState)(""),l=r[0],p=r[1],v=function(){var n,e=(n=c().mark((function n(){var e,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,w.Od)();case 2:return e=n.sent,n.next=5,(0,w.I_)();case 5:r=n.sent,t(r),p(e);case 8:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,c){var i=n.apply(e,t);function a(n){x(i,r,c,a,o,"next",n)}function o(n){x(i,r,c,a,o,"throw",n)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){v()}),[]),(0,i.jsxs)(h.Z,{meta:(0,i.jsx)(f.Z,{title:"Smartcloud | ".concat(m.Z.title,": ").concat(m.Z.tagline),description:m.Z.description}),children:[(0,i.jsx)(f.Z,{title:"".concat(m.Z.title,": ").concat(m.Z.tagline),description:m.Z.description}),(0,i.jsxs)("div",{className:"flex flex-col content-center justify-center text-center",children:[(0,i.jsxs)("h3",{children:["Device ",l]}),e&&(0,i.jsxs)("p",{children:["IP: ",e]}),(0,i.jsx)("div",{className:"max-w-72 mx-auto flex content-center justify-center",children:(0,i.jsx)(d,{data:l})}),(0,i.jsx)(s.default,{href:"/wifi",passHref:!0,children:(0,i.jsx)(u.Z,{endIcon:(0,i.jsx)(o.Z,{}),loading:!l,loadingPosition:"end",variant:"contained",children:"WiFi Setup"})})]})]})}},5125:function(n,e){"use strict";var t={totalImages:5,site_name:"iot-cloud",email:"me@lacymorrow.com",title:"SmartCloud",tagline:"Firmware for iot scheduler",description:"Firmware for iot scheduler",locale:"en",errorMessage:"",MAX_RETRIES:10,RETRY_DELAY:500};t.errorMessage='There was an error, please email <a href="mailto:'.concat(t.email,'">').concat(t.email,"</a>"),e.Z=t}},function(n){n.O(0,[411,415,592,774,888,179],(function(){return e=5301,n(n.s=e);var e}));var e=n.O();_N_E=e}]);