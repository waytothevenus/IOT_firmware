(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{1295:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wifi",function(){return e(1745)}])},9452:function(n,t,e){"use strict";var r=e(5893),c=e(2962),i=e(9008),a=e(1163),u=e(5125);t.Z=function(n){var t=(0,a.useRouter)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.default,{children:[(0,r.jsx)("meta",{charSet:"UTF-8"},"charset"),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"},"viewport"),(0,r.jsx)("link",{rel:"apple-touch-icon",href:"".concat(t.basePath,"/apple-touch-icon.png")},"apple"),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"".concat(t.basePath,"/favicon-32x32.png")},"icon32"),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"".concat(t.basePath,"/favicon-16x16.png")},"icon16"),(0,r.jsx)("link",{rel:"icon",href:"".concat(t.basePath,"/favicon.ico")},"favicon")]}),(0,r.jsx)(c.PB,{title:n.title,description:n.description,canonical:n.canonical,openGraph:{title:n.title,description:n.description,url:n.canonical,locale:u.Z.locale,site_name:u.Z.site_name}})]})}},5542:function(n,t,e){"use strict";e.d(t,{Z:function(){return d}});var r=e(5893),c=e(1664),i=e(1163),a=e(1884);function u(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function o(){var n=u([""]);return o=function(){return n},n}function s(){var n=u([""]);return s=function(){return n},n}var l=a.Z.div(o()),f=a.Z.div(s()),p=e(5125),d=function(n){var t=(0,i.useRouter)().pathname;return(0,r.jsxs)(l,{className:"p-2 border-2 border-black",children:[n.meta,(0,r.jsxs)("div",{className:"max-w-screen-sm w-full mx-auto relative",children:[(0,r.jsx)("div",{children:"/"!==t&&(0,r.jsx)("div",{className:"font-extrabold text-xl text-gray-900",children:(0,r.jsx)(c.default,{href:"/",children:(0,r.jsx)("a",{children:p.Z.title})})})}),(0,r.jsx)(f,{children:n.children})]})]})}},7475:function(n,t,e){"use strict";e.d(t,{dG:function(){return o},Ww:function(){return s},Od:function(){return l},I_:function(){return f},wl:function(){return p},Sj:function(){return d},Cz:function(){return v},qZ:function(){return h}});var r=e(4051),c=e.n(r),i=e(4208);function a(n,t,e,r,c,i,a){try{var u=n[i](a),o=u.value}catch(s){return void e(s)}u.done?t(o):Promise.resolve(o).then(r,c)}function u(n){return function(){var t=this,e=arguments;return new Promise((function(r,c){var i=n.apply(t,e);function u(n){a(i,r,c,u,o,"next",n)}function o(n){a(i,r,c,u,o,"throw",n)}u(void 0)}))}}var o=function(n){return(0,i.Z)("get",{key:n}).catch((function(){return"Error"}))},s=function(n,t){return(0,i.Z)("set",{key:n,data:t}).catch((function(){return"Error"}))},l=function(){return(0,i.Z)("getHardwareId").catch((function(){return""}))},f=function(){return(0,i.Z)("getIpAddress").catch((function(){return""}))},p=function(){var n=u(c().mark((function n(){var t,e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.Z)("getWifiInfo").catch((function(){return{ssid:"",quality:0}}));case 2:return t=n.sent,e=Math.round(Number.parseInt(t.quality,10)/70*100),n.abrupt("return",{ssid:t.ssid,quality:e});case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(){var n=u(c().mark((function n(){var t,e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.Z)("getWifiNetworks").catch((function(){return[]}));case 2:return t=n.sent,e=t.split("ESSID:").filter((function(n,e){return e>0&&e<t.length-1&&n.trim()})).map((function(n){return n.trim().replace(/^"|"$/g,"")})),n.abrupt("return",e);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),v=function(){var n=u(c().mark((function n(t,e){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.Z)("setWifiNetwork",{ssid:t,password:e}).catch((function(){return[]}));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),h=function(){return(0,i.Z)("removeAllStorage").catch((function(){return"Error"}))}},4208:function(n,t,e){"use strict";e.d(t,{Z:function(){return f}});var r=e(4051),c=e.n(r),i=e(5125);var a=function(n,t,e){return new Promise((function(r,c){return n().then(r).catch((function(i){return e>0?(u=t,new Promise((function(n){return setTimeout(n,u)}))).then(a.bind(null,n,t,e-1)).then(r).catch((function(n){var t,e,r="Operation failed";t=n,(null!=(e=Error)&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e)&&(r=n.message),c(r)})):c(i);var u}))}))},u=e(2435);function o(n,t,e,r,c,i,a){try{var u=n[i](a),o=u.value}catch(s){return void e(s)}u.done?t(o):Promise.resolve(o).then(r,c)}function s(n){return function(){var t=this,e=arguments;return new Promise((function(r,c){var i=n.apply(t,e);function a(n){o(i,r,c,a,u,"next",n)}function u(n){o(i,r,c,a,u,"throw",n)}a(void 0)}))}}function l(n,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](n):n instanceof t}var f=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(s(c().mark((function e(){var r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("PyCall ".concat(n));case 3:return e.next=5,window.pywebview.api[n](t);case 5:return r=e.sent,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),i="PyCall ".concat(n," failed: ").concat(e.t0),l(e.t0,Error)&&(i=e.t0.message),new Error(i);case 14:case"end":return e.stop()}}),e,null,[[0,9]])}))),!1===(null===t||void 0===t?void 0:t.retry)?1:i.Z.RETRY_DELAY,i.Z.MAX_RETRIES).then(function(){var n=s(c().mark((function n(t){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=JSON.parse(t),n.next=4,(0,u.Z)("PyCall returned object ".concat(e.message));case 4:return n.abrupt("return",e.message);case 7:return n.prev=7,n.t0=n.catch(0),n.next=11,(0,u.Z)("PyCall returned ".concat(t));case 11:return n.abrupt("return",t);case 12:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}()).catch(function(){var t=s(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw r="PyCall ".concat(n," failed: ").concat(e),l(e,Error)&&(r=e.message),new Error(r);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())}},2435:function(n,t,e){"use strict";var r=e(4051),c=e.n(r);function i(n,t,e,r,c,i,a){try{var u=n[i](a),o=u.value}catch(s){return void e(s)}u.done?t(o):Promise.resolve(o).then(r,c)}var a=function(){var n,t=(n=c().mark((function n(t){var e,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t),n.prev=1,n.next=5,null===(e=window.pywebview)||void 0===e||null===(r=e.api)||void 0===r?void 0:r.log(t);case 5:return n.abrupt("return",!0);case 8:return n.prev=8,n.t0=n.catch(1),console.error("Logging error ".concat(n.t0)),n.abrupt("return",!1);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})),function(){var t=this,e=arguments;return new Promise((function(r,c){var a=n.apply(t,e);function u(n){i(a,r,c,u,o,"next",n)}function o(n){i(a,r,c,u,o,"throw",n)}u(void 0)}))});return function(n){return t.apply(this,arguments)}}();t.Z=a},1745:function(n,t,e){"use strict";e.r(t);var r=e(4051),c=e.n(r),i=e(5893),a=e(7294),u=e(9452),o=e(5542),s=e(7475),l=e(4208),f=e(2435),p=e(5125);function d(n,t,e,r,c,i,a){try{var u=n[i](a),o=u.value}catch(s){return void e(s)}u.done?t(o):Promise.resolve(o).then(r,c)}function v(n){return function(){var t=this,e=arguments;return new Promise((function(r,c){var i=n.apply(t,e);function a(n){d(i,r,c,a,u,"next",n)}function u(n){d(i,r,c,a,u,"throw",n)}a(void 0)}))}}t.default=function(){var n=(0,a.useState)({ssid:"",quality:0}),t=n[0],e=n[1],r=(0,a.useState)(""),d=r[0],h=r[1],w=(0,a.useState)([]),m=w[0],x=w[1],y=(0,a.useState)(""),g=y[0],j=y[1],b=(0,a.useState)(!0),Z=b[0],k=b[1],S=(0,a.useState)(!0),P=S[0],E=S[1],_=function(){var n=v(c().mark((function n(){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.wl)();case 2:t=n.sent,e(t),h(t.ssid);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),C=function(){var n=v(c().mark((function n(){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,l.Z)("Polling for WiFi data...");case 2:return n.next=4,(0,s.Sj)();case 4:t=n.sent,m?x(t):setTimeout(C,4e3);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),I=function(){var n=v(c().mark((function n(){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.Cz)(d,g);case 2:return t=n.sent,n.next=5,(0,f.Z)("Connect WiFi: ".concat(t));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,a.useEffect)((function(){E(!0),_(),C(),E(!1)}),[]),(0,i.jsx)(o.Z,{meta:(0,i.jsx)(u.Z,{title:"Wifi | ".concat(p.Z.title,": ").concat(p.Z.tagline),description:p.Z.description}),children:(0,i.jsxs)("div",{className:"block text-center ",children:[(0,i.jsx)("h4",{children:"Wifi Setup"}),P&&(0,i.jsx)("p",{children:"loading..."}),t.ssid?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"You are connected to the internet."}),(0,i.jsxs)("p",{children:["Current network: ",t.ssid," quality: ",t.quality]})]}):(0,i.jsx)("p",{children:"Enter your WiFi name (SSID) and password to connect to your network."}),m&&(0,i.jsx)("select",{value:d,onChange:function(n){h(n.target.value)},children:m.map((function(n,t){return(0,i.jsx)("option",{value:n,children:n},t)}))}),(0,i.jsx)("button",{onClick:C,children:"Reload WiFi Networks"}),(0,i.jsx)("input",{type:Z?"password":"text",value:g,onChange:function(n){var t;j(null===n||void 0===n||null===(t=n.target)||void 0===t?void 0:t.value)}}),(0,i.jsxs)("button",{onClick:function(){return k(!Z)},children:[Z?"Show":"Hide"," Password"]}),(0,i.jsx)("button",{onClick:I,children:"Connect"})]})})}},5125:function(n,t){"use strict";var e={totalImages:5,site_name:"iot-cloud",email:"me@lacymorrow.com",title:"SmartCloud",tagline:"Firmware for iot scheduler",description:"Firmware for iot scheduler",locale:"en",errorMessage:"",MAX_RETRIES:10,RETRY_DELAY:500};e.errorMessage='There was an error, please email <a href="mailto:'.concat(e.email,'">').concat(e.email,"</a>"),t.Z=e}},function(n){n.O(0,[525,774,888,179],(function(){return t=1295,n(n.s=t);var t}));var t=n.O();_N_E=t}]);