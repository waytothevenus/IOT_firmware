(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{1295:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wifi",function(){return t(9864)}])},9864:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return O}});var i=t(4051),r=t.n(i),o=t(5893),s=t(7294),a=t(2456),c=t(2186),u=t(5697),d=t(745),l=t(452),f=t(7920),x=t(8987),h=t(6886),v=t(1713),p=t(8340),j=t(3321),w=t(1664),Z=t(8100),m=t(9452),b=t(1303),P=function(){var n=(0,Z.ZP)("/wifi-info",b.wl),e=n.data,t=n.error;return{data:e,isLoading:!t&&!e,isError:t}},g=t(3292),y=t(2435),k=t(5125);function S(n,e,t,i,r,o,s){try{var a=n[o](s),c=a.value}catch(u){return void t(u)}a.done?e(c):Promise.resolve(c).then(i,r)}function C(n){return function(){var e=this,t=arguments;return new Promise((function(i,r){var o=n.apply(e,t);function s(n){S(o,i,r,s,a,"next",n)}function a(n){S(o,i,r,s,a,"throw",n)}s(void 0)}))}}function _(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var O=function(){var n=(0,Z.kY)().mutate,e=P(),t=e.data,i=e.isError,S=(0,s.useRef)(null),O=(0,s.useState)(-1),E=O[0],N=O[1],I=(0,s.useState)([]),W=I[0],D=I[1],F=(0,s.useState)(""),H=F[0],R=F[1],T=(0,s.useState)(!0),X=T[0],q=T[1],z=(0,s.useState)(!0),G=z[0],L=z[1],Y=(0,s.useState)(!1),A=Y[0],B=Y[1],J=function(){(null===t||void 0===t?void 0:t.ssid)&&W.includes(t.ssid)&&N(W.indexOf(t.ssid))},K=function(){var n=C(r().mark((function n(){var e,t;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return L(!0),n.next=4,(0,b.Sj)();case 4:t=n.sent,D(t),L(!1),J(),null===(e=S.current)||void 0===e||e.focus();case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),M=function(){var e=C(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n("/wifi-info"),J();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var n=C(r().mark((function n(){var e,t;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(B(!0),!(e=W[E])){n.next=8;break}return n.next=5,(0,b.Cz)(e,H);case 5:return t=n.sent,n.next=8,(0,y.Z)("Connect WiFi: ".concat(t));case 8:B(!1);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,s.useEffect)((function(){K()}),[]),(0,o.jsx)(g.Z,{meta:(0,o.jsx)(m.Z,{title:"Wifi | ".concat(k.Z.title,": ").concat(k.Z.tagline),description:k.Z.description}),children:(0,o.jsxs)("div",{className:"block text-center ",children:[(0,o.jsx)("h4",{className:"my-0",onClick:M,children:"Wifi Setup"}),!t&&!i&&(0,o.jsx)("p",{children:"Getting WiFi information..."})||i?(0,o.jsx)("p",{children:"Enter your WiFi name (SSID) and password to connect."}):(0,o.jsxs)("h3",{children:[null===t||void 0===t?void 0:t.ssid," ",null===t||void 0===t?void 0:t.quality," ",(0,o.jsx)(f.Z,{})]}),(0,o.jsxs)(h.ZP,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,children:[(0,o.jsx)(h.ZP,{item:!0,xs:9,children:W&&(0,o.jsx)(v.Z,{ref:S,disablePortal:!0,disabled:G||A,options:W,sx:{width:"100%"},renderInput:function(n){return(0,o.jsx)(p.Z,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),i.forEach((function(e){_(n,e,t[e])}))}return n}({},n,{label:"Network"}))},onChange:function(n){N(n.target.value)}})}),(0,o.jsx)(h.ZP,{item:!0,xs:3,children:(0,o.jsx)(x.Z,{loading:G,loadingPosition:"start",sx:{width:"100%"},startIcon:(0,o.jsx)(a.Z,{}),onClick:K,variant:"outlined",children:"Refresh"})}),(0,o.jsx)(h.ZP,{item:!0,xs:9,children:(0,o.jsx)(p.Z,{label:"Password",variant:"outlined",value:H,sx:{width:"100%"},type:X?"password":"text",onChange:function(n){var e;R(null===n||void 0===n||null===(e=n.target)||void 0===e?void 0:e.value)}})}),(0,o.jsx)(h.ZP,{item:!0,xs:3,children:(0,o.jsx)(j.Z,{variant:"outlined",sx:{width:"100%"},startIcon:X?(0,o.jsx)(c.Z,{}):(0,o.jsx)(u.Z,{}),onClick:function(){return q(!X)},children:X?"Show":"Hide"})}),(0,o.jsx)(h.ZP,{item:!0,xs:6,children:(0,o.jsx)(x.Z,{loading:G||A,loadingPosition:"end",sx:{width:"100%"},endIcon:(0,o.jsx)(d.Z,{}),variant:"contained",onClick:Q,children:"Connect"})}),(0,o.jsx)(h.ZP,{item:!0,xs:6,children:(0,o.jsx)(w.default,{href:"/dashboard",passHref:!0,children:(0,o.jsx)(j.Z,{disabled:!(null===t||void 0===t?void 0:t.ssid),sx:{width:"100%"},endIcon:(0,o.jsx)(l.Z,{}),variant:"contained",children:"Done"})})})]})]})})}}},function(n){n.O(0,[118,100,204,927,827,774,888,179],(function(){return e=1295,n(n.s=e);var e}));var e=n.O();_N_E=e}]);