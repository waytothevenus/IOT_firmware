(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(6202)}])},9452:function(n,e,r){"use strict";var t=r(7320),a=r(2962),i=r(9008),c=r(1163),o=r(5125);e.Z=function(n){var e=(0,c.useRouter)();return(0,t.BX)(t.HY,{children:[(0,t.BX)(i.default,{children:[(0,t.tZ)("meta",{charSet:"UTF-8"},"charset"),(0,t.tZ)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"},"viewport"),(0,t.tZ)("link",{rel:"apple-touch-icon",href:"".concat(e.basePath,"/apple-touch-icon.png")},"apple"),(0,t.tZ)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"".concat(e.basePath,"/favicon-32x32.png")},"icon32"),(0,t.tZ)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"".concat(e.basePath,"/favicon-16x16.png")},"icon16"),(0,t.tZ)("link",{rel:"icon",href:"".concat(e.basePath,"/favicon.ico")},"favicon")]}),(0,t.tZ)(a.PB,{title:n.title,description:n.description,canonical:n.canonical,openGraph:{title:n.title,description:n.description,url:n.canonical,locale:o.Z.locale,site_name:o.Z.site_name}})]})}},5542:function(n,e,r){"use strict";r.d(e,{Z:function(){return v}});var t=r(7320),a=r(1664),i=r(1163),c=r(1884);function o(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function u(){var n=o([""]);return u=function(){return n},n}function s(){var n=o([""]);return s=function(){return n},n}var l=c.Z.div(u()),f=c.Z.div(s()),d=r(5125),v=function(n){var e=(0,i.useRouter)().pathname;return(0,t.BX)(l,{className:"p-2 border-2 border-black",children:[n.meta,(0,t.BX)("div",{className:"max-w-screen-sm w-full mx-auto relative",children:[(0,t.tZ)("div",{children:"/"!==e&&(0,t.tZ)("div",{className:"font-extrabold text-xl text-gray-900",children:(0,t.tZ)(a.default,{href:"/",children:(0,t.tZ)("a",{children:d.Z.title})})})}),(0,t.tZ)(f,{children:n.children})]})]})}},6202:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return B}});var t=r(4051),a=r.n(t),i=r(7320),c=r(6307),o=r(4003),u=r(1664),s=r(9770),l=r(8100),f=r(5125);var d=function(n,e,r){return new Promise((function(t,a){return n().then(t).catch((function(i){return r>0?(c=e,new Promise((function(n){return setTimeout(n,c)}))).then(d.bind(null,n,e,r-1)).then(t).catch((function(n){var e,r,t="Operation failed";e=n,(null!=(r=Error)&&"undefined"!==typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](e):e instanceof r)&&(t=n.message),a(t)})):a(i);var c}))}))};function v(n,e,r,t,a,i,c){try{var o=n[i](c),u=o.value}catch(s){return void r(s)}o.done?e(u):Promise.resolve(u).then(t,a)}function p(n){return function(){var e=this,r=arguments;return new Promise((function(t,a){var i=n.apply(e,r);function c(n){v(i,t,a,c,o,"next",n)}function o(n){v(i,t,a,c,o,"throw",n)}c(void 0)}))}}function h(n,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](n):n instanceof e}var w=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(p(a().mark((function r(){var t,i;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,window.pywebview.api[n](e);case 3:return t=r.sent,r.abrupt("return",t);case 7:throw r.prev=7,r.t0=r.catch(0),i="PyCall ".concat(n," failed: ").concat(r.t0),h(r.t0,Error)&&(i=r.t0.message),new Error(i);case 12:case"end":return r.stop()}}),r,null,[[0,7]])}))),f.Z.RETRY_DELAY,f.Z.MAX_RETRIES).then(function(){var n=p(a().mark((function n(e){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=JSON.parse(e),n.abrupt("return",r.message);case 5:return n.prev=5,n.t0=n.catch(0),n.abrupt("return",e);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}()).catch(function(){var e=p(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw t="PyCall ".concat(n," failed: ").concat(r),h(r,Error)&&(t=r.message),new Error(t);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())};function m(n,e,r,t,a,i,c){try{var o=n[i](c),u=o.value}catch(s){return void r(s)}o.done?e(u):Promise.resolve(u).then(t,a)}function Z(n){return function(){var e=this,r=arguments;return new Promise((function(t,a){var i=n.apply(e,r);function c(n){m(i,t,a,c,o,"next",n)}function o(n){m(i,t,a,c,o,"throw",n)}c(void 0)}))}}var x=function(){var n=Z(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w("getHardwareId").catch((function(){return"XXXXXXX"}));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),y=function(){var n=Z(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w("getIpAddress").catch((function(){return"XXXXXXX"}));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();function b(n,e,r,t,a,i,c){try{var o=n[i](c),u=o.value}catch(s){return void r(s)}o.done?e(u):Promise.resolve(u).then(t,a)}var g=function(){var n,e=(0,l.ZP)("/ip-address",(n=a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y();case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})),function(){var e=this,r=arguments;return new Promise((function(t,a){var i=n.apply(e,r);function c(n){b(i,t,a,c,o,"next",n)}function o(n){b(i,t,a,c,o,"throw",n)}c(void 0)}))})),r=e.data,t=e.error;return(0,i.tZ)("p",{children:t?"Error":r||"loading"})},P=r(9452),X=r(1720),E=r(2592);function k(n,e,r,t,a,i,c){try{var o=n[i](c),u=o.value}catch(s){return void r(s)}o.done?e(u):Promise.resolve(u).then(t,a)}var _=function(n){var e=n.data,r=(0,X.useRef)(null);return(0,X.useEffect)((function(){E.toCanvas(r.current,e,function(){var n,r=(n=a().mark((function n(r){var t,i,c,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=4;break}return n.next=4,null===(t=window.pywebview)||void 0===t||null===(i=t.api)||void 0===i?void 0:i.log(r);case 4:return n.next=6,null===(c=window.pywebview)||void 0===c||null===(o=c.api)||void 0===o?void 0:o.log("Created QR: ".concat(e));case 6:case"end":return n.stop()}}),n)})),function(){var e=this,r=arguments;return new Promise((function(t,a){var i=n.apply(e,r);function c(n){k(i,t,a,c,o,"next",n)}function o(n){k(i,t,a,c,o,"throw",n)}c(void 0)}))});return function(n){return r.apply(this,arguments)}}())}),[e]),(0,i.tZ)("canvas",{ref:r})};function R(n,e,r,t,a,i,c){try{var o=n[i](c),u=o.value}catch(s){return void r(s)}o.done?e(u):Promise.resolve(u).then(t,a)}var S=function(){var n,e=(0,l.ZP)("/ip-address",(n=a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y();case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})),function(){var e=this,r=arguments;return new Promise((function(t,a){var i=n.apply(e,r);function c(n){R(i,t,a,c,o,"next",n)}function o(n){R(i,t,a,c,o,"throw",n)}c(void 0)}))})),r=e.data,t=e.error;return{device:{ip:r},isLoading:!t&&!r,isError:t}},I=r(5542);function N(n,e,r,t,a,i,c){try{var o=n[i](c),u=o.value}catch(s){return void r(s)}o.done?e(u):Promise.resolve(u).then(t,a)}function T(n){return function(){var e=this,r=arguments;return new Promise((function(t,a){var i=n.apply(e,r);function c(n){N(i,t,a,c,o,"next",n)}function o(n){N(i,t,a,c,o,"throw",n)}c(void 0)}))}}var B=function(){var n=S().device,e=(0,s.Z)("/hardware-id",T(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x();case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))),r=e.data,t=e.error;return(0,i.BX)(I.Z,{meta:(0,i.tZ)(P.Z,{title:"Smartcloud | ".concat(f.Z.title,": ").concat(f.Z.tagline),description:f.Z.description}),children:[(0,i.tZ)(P.Z,{title:"".concat(f.Z.title,": ").concat(f.Z.tagline),description:f.Z.description}),(0,i.BX)("div",{className:"flex flex-col content-center justify-center text-center",children:[(0,i.tZ)("p",{children:t?"Error":r||"loading"}),(0,i.BX)("p",{children:["device: ",n.ip]}),(0,i.tZ)("button",{onClick:T(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y();case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)}))),children:"Reload"}),(0,i.tZ)(g,{}),(0,i.tZ)(_,{data:r}),(0,i.tZ)(u.default,{href:"/wifi",passHref:!0,children:(0,i.tZ)(o.Z,{endIcon:(0,i.tZ)(c.Z,{}),loading:!r,loadingPosition:"end",variant:"contained",children:"WiFi Setup"})})]})]})}},5125:function(n,e){"use strict";var r={totalImages:5,site_name:"iot-cloud",email:"me@lacymorrow.com",title:"SmartCloud",tagline:"Firmware for iot scheduler",description:"Firmware for iot scheduler",locale:"en",errorMessage:"",MAX_RETRIES:10,RETRY_DELAY:500};r.errorMessage='There was an error, please email <a href="mailto:'.concat(r.email,'">').concat(r.email,"</a>"),e.Z=r}},function(n){n.O(0,[105,150,888,179],(function(){return e=5301,n(n.s=e);var e}));var e=n.O();_N_E=e}]);