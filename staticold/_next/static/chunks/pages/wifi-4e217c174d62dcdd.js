(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{1295:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wifi",function(){return t(1745)}])},9452:function(n,e,t){"use strict";var r=t(5893),i=t(2962),c=t(9008),o=t(1163),a=t(5125);e.Z=function(n){var e=(0,o.useRouter)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.default,{children:[(0,r.jsx)("meta",{charSet:"UTF-8"},"charset"),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"},"viewport"),(0,r.jsx)("link",{rel:"apple-touch-icon",href:"".concat(e.basePath,"/apple-touch-icon.png")},"apple"),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"".concat(e.basePath,"/favicon-32x32.png")},"icon32"),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"".concat(e.basePath,"/favicon-16x16.png")},"icon16"),(0,r.jsx)("link",{rel:"icon",href:"".concat(e.basePath,"/favicon.ico")},"favicon")]}),(0,r.jsx)(i.PB,{title:n.title,description:n.description,canonical:n.canonical,openGraph:{title:n.title,description:n.description,url:n.canonical,locale:a.Z.locale,site_name:a.Z.site_name}})]})}},5542:function(n,e,t){"use strict";t.d(e,{Z:function(){return l}});var r=t(5893),i=t(386);function c(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function o(){var n=c([""]);return o=function(){return n},n}function a(){var n=c([""]);return a=function(){return n},n}var u=i.Z.div(o()),s=i.Z.div(a()),l=function(n){return(0,r.jsxs)(u,{className:"h-[320px] w-[480px] border-solid border-2 border-black p-2",children:[n.meta,(0,r.jsx)("div",{className:"w-full relative",children:(0,r.jsx)(s,{children:n.children})})]})}},1303:function(n,e,t){"use strict";t.d(e,{Od:function(){return p},I_:function(){return h},wl:function(){return v},Sj:function(){return x},Cz:function(){return w}});var r=t(4051),i=t.n(r),c=t(2435);function o(n,e,t,r,i,c,o){try{var a=n[c](o),u=a.value}catch(s){return void t(s)}a.done?e(u):Promise.resolve(u).then(r,i)}function a(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var c=n.apply(e,t);function a(n){o(c,r,i,a,u,"next",n)}function u(n){o(c,r,i,a,u,"throw",n)}a(void 0)}))}}function u(n,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](n):n instanceof e}var s=function(){var n=a(i().mark((function n(e){var t,r,o=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:{},console.log("a"),(0,c.Z)("PyCall ".concat(e)),console.log("b"),n.next=6,window.pywebview.api[e](t).then(function(){var n=a(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=JSON.parse(String(e)),(0,c.Z)("PyCall returned object ".concat(t.message)),n.abrupt("return",t.message);case 6:return n.prev=6,n.t0=n.catch(0),(0,c.Z)("PyCall returned ".concat(e)),n.abrupt("return",e);case 10:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()).catch(function(){var n=a(i().mark((function n(t){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:throw r="PyCall ".concat(e," failed: ").concat(t),u(t,Error)&&(r=t.message),(0,c.Z)("Pycall Error: ".concat(r)),new Error(r);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 6:return r=n.sent,n.abrupt("return",r);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=s;function f(n,e,t,r,i,c,o){try{var a=n[c](o),u=a.value}catch(s){return void t(s)}a.done?e(u):Promise.resolve(u).then(r,i)}function d(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var c=n.apply(e,t);function o(n){f(c,r,i,o,a,"next",n)}function a(n){f(c,r,i,o,a,"throw",n)}o(void 0)}))}}var p=function(){return l("getHardwareId").catch((function(){return""}))},h=function(){return l("getIpAddress").catch((function(){return""}))},v=function(){var n=d(i().mark((function n(){var e,t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l("getWifiInfo").catch((function(){return{ssid:"",quality:0}}));case 2:return e=n.sent,t=Math.round(Number.parseInt(e.quality,10)/70*100),n.abrupt("return",{ssid:e.ssid,quality:t});case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),x=function(){var n=d(i().mark((function n(){var e,t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l("getWifiNetworks").catch((function(){return""}));case 2:return e=n.sent,t=e.split("ESSID:").map((function(n){return n.trim().replace(/^"|"$/g,"")})).filter((function(n,e,t){return t.indexOf(n)===e})).filter((function(n){return n})),n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),w=function(){var n=d(i().mark((function n(e,t){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l("setWifiNetwork",{ssid:e,password:t}).catch((function(){return[]}));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},2435:function(n,e,t){"use strict";var r=t(4051),i=t.n(r);function c(n,e,t,r,i,c,o){try{var a=n[c](o),u=a.value}catch(s){return void t(s)}a.done?e(u):Promise.resolve(u).then(r,i)}var o=function(){var n,e=(n=i().mark((function n(e){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("[Pylog] ".concat(e)),n.prev=1,n.next=5,null===(t=window.pywebview)||void 0===t||null===(r=t.api)||void 0===r?void 0:r.log(e).then((function(n){return console.log("Log end: ".concat(n))}));case 5:return n.abrupt("return",!0);case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",new Error("Logging Error: ".concat(e)));case 11:case"end":return n.stop()}}),n,null,[[1,8]])})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(n){c(o,r,i,a,u,"next",n)}function u(n){c(o,r,i,a,u,"throw",n)}a(void 0)}))});return function(n){return e.apply(this,arguments)}}();e.Z=o},1745:function(n,e,t){"use strict";t.r(e);var r=t(4051),i=t.n(r),c=t(5893),o=t(7294),a=t(2456),u=t(2186),s=t(5697),l=t(745),f=t(452),d=t(6319),p=t(6886),h=t(3569),v=t(9251),x=t(3321),w=t(1664),m=t(9452),j=t(5542),y=t(1303),g=t(5125);function b(n,e,t,r,i,c,o){try{var a=n[c](o),u=a.value}catch(s){return void t(s)}a.done?e(u):Promise.resolve(u).then(r,i)}function P(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var c=n.apply(e,t);function o(n){b(c,r,i,o,a,"next",n)}function a(n){b(c,r,i,o,a,"throw",n)}o(void 0)}))}}function Z(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var k=function(){var n=(0,o.useRef)(null),e=(0,o.useState)({}),t=e[0],r=e[1],b=(0,o.useState)(-1),S=b[0],E=b[1],_=(0,o.useState)([]),I=_[0],O=_[1],C=(0,o.useState)(""),N=C[0],F=C[1],R=(0,o.useState)(!0),W=R[0],z=R[1],T=function(){var n=P(i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,y.Sj)();case 2:e=n.sent,O(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),D=function(){var n=P(i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,y.wl)();case 2:e=n.sent,r(e),T();case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),q=function(){var n=P(i().mark((function n(){var e,t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e=I[S])){n.next=6;break}return n.next=4,(0,y.Cz)(e,N);case 4:t=n.sent,console.log(t);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,o.useEffect)((function(){D()}),[]),(0,c.jsx)(j.Z,{meta:(0,c.jsx)(m.Z,{title:"Wifi | ".concat(g.Z.title,": ").concat(g.Z.tagline),description:g.Z.description}),children:(0,c.jsxs)("div",{className:"block text-center ",children:[(0,c.jsx)("h4",{className:"my-0",onClick:D,children:"Wifi Setup"}),!t&&(0,c.jsx)("p",{children:"Getting WiFi information..."})||(null===t||void 0===t?void 0:t.ssid)?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("p",{children:"Online"}),(0,c.jsxs)("h3",{children:[t.ssid," ",t.quality," ",(0,c.jsx)(k,{})]})]}):(0,c.jsx)("p",{children:"Enter your WiFi name (SSID) and password to connect to your network."}),(0,c.jsxs)(p.ZP,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,children:[(0,c.jsx)(p.ZP,{item:!0,xs:9,children:I&&(0,c.jsx)(h.Z,{ref:n,disablePortal:!0,options:I,sx:{width:"100%"},renderInput:function(n){return(0,c.jsx)(v.Z,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){Z(n,e,t[e])}))}return n}({},n,{label:"Network"}))},onChange:function(n){E(n.target.value)}})}),(0,c.jsx)(p.ZP,{item:!0,xs:3,children:(0,c.jsx)(d.Z,{loadingPosition:"start",sx:{width:"100%"},startIcon:(0,c.jsx)(a.Z,{}),onClick:T,variant:"outlined",children:"Refresh"})}),(0,c.jsx)(p.ZP,{item:!0,xs:9,children:(0,c.jsx)(v.Z,{label:"Password",variant:"outlined",value:N,sx:{width:"100%"},type:W?"password":"text",onChange:function(n){var e;F(null===n||void 0===n||null===(e=n.target)||void 0===e?void 0:e.value)}})}),(0,c.jsx)(p.ZP,{item:!0,xs:3,children:(0,c.jsx)(x.Z,{variant:"outlined",sx:{width:"100%"},startIcon:W?(0,c.jsx)(u.Z,{}):(0,c.jsx)(s.Z,{}),onClick:function(){return z(!W)},children:W?"Show":"Hide"})}),(0,c.jsx)(p.ZP,{item:!0,xs:6,children:(0,c.jsx)(d.Z,{loadingPosition:"end",sx:{width:"100%"},endIcon:(0,c.jsx)(l.Z,{}),variant:"contained",onClick:q,children:"Connect"})}),(0,c.jsx)(p.ZP,{item:!0,xs:6,children:(0,c.jsx)(w.default,{href:"/dashboard",passHref:!0,children:(0,c.jsx)(x.Z,{disabled:!t.ssid,sx:{width:"100%"},endIcon:(0,c.jsx)(f.Z,{}),variant:"contained",children:"Done"})})})]})]})})};e.default=k},5125:function(n,e){"use strict";var t={totalImages:5,site_name:"iot-cloud",email:"me@lacymorrow.com",title:"Smartcloud",tagline:"Firmware for iot scheduler",description:"Firmware for iot scheduler",locale:"en",errorMessage:"",MAX_RETRIES:10,RETRY_DELAY:500};t.errorMessage='There was an error, please email <a href="mailto:'.concat(t.email,'">').concat(t.email,"</a>"),e.Z=t}},function(n){n.O(0,[838,773,774,888,179],(function(){return e=1295,n(n.s=e);var e}));var e=n.O();_N_E=e}]);